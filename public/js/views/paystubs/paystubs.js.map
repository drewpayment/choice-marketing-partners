{"version":3,"sources":["paystubs.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"paystubs.js","sourcesContent":["(function(){\n\n    var inputParams = {\n        date: $('#issueDates').val(),\n        vendor: $('#vendorList').val(),\n        agent: $('#agentList').val()\n    };\n\n\n    /**\n     * Event fired when you click the filter button. Returns\n     * a list of paystubs based on the input params.\n     */\n    $('#filterBtn').on('click', function(){\n        inputParams.date = $('#issueDates').val();\n        inputParams.vendor = $('#vendorList').val();\n        inputParams.agent = $('#agentList').val();\n\n        var loading = '<tr><td colspan=\"3\" class=\"text-center\"><i class=\"fa fa-spinner fa-spin fa-5x\"></i></td></tr>';\n\n        $('#paystub_row_data').html(loading);\n\n        filterPaystubs();\n    });\n\n    var filterPaystubs = function(){\n        var options = {\n            url: '/paystubs/filter-paystubs',\n            type: 'POST',\n            data: {\n                inputParams: inputParams\n            },\n            dataType: 'html',\n            afterData: afterData\n        };\n\n        fireAjaxRequest(options);\n\n        function afterData(data){\n            if(data){\n                $('#paystub_row_data').html(data);\n            } else {\n                setMessageContainer('An error has occurred! Please try again later.', null, 'danger');\n            }\n\n        }\n    };\n\n    /**\n     * event handler for clicks on rows and showing paystubs\n     *\n     */\n    $(document).on('click', '[data-stub=\"true\"]', function(){\n        var el = $(this);\n        var input = {\n            date: inputParams.date,\n            vendor: el.data('vid'),\n            agent: el.data('aid')\n        };\n\n        var form = el.find('#form');\n        form.find('#date').val(input.date);\n        form.find('#vendor').val(input.vendor);\n        form.find('#agent').val(input.agent);\n\n        form.submit();\n    });\n\n\n    /**\n     * browser caching utility -\n     * on window unload, sets hidden input and on browser back btn,\n     * reloads page with valid data\n     *\n     */\n    $(document).ready(function(){\n        if($('#pageRefresh').val() == 1) {\n            var tbl = $('.table-responsive');\n            tbl.addClass('text-center').html('');\n            tbl.html('<i class=\"fa fa-circle-o-notch fa-spin fa-5x\"></i>');\n            location.reload();\n        }\n    });\n\n    $(window).on('unload', function(){\n        $('#pageRefresh').val(1);\n    });\n\n})();"]}